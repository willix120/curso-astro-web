---
import CardLaunch from '../components/CardLaunch.astro';
import { getSpacexLaunches } from '../services/spacex';

const launches = await getSpacexLaunches()
---

<div class="grip gap-8 sm:grid-cols-2 lg:grid-cols-3">
    {
        launches.map(({id, name, links, details, success})=>(
            <a href={`/launch/${id}`}>
                <CardLaunch 
                    title={name} 
                    patch={links.patch.small} 
                    details={details} 
                    success={success}
                />
            </a>
        ))
    }
</div>